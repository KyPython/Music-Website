<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Website</title>
    <link rel="stylesheet" href="desktop.css">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600&family=BioRhyme&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation Bar -->
<header class="navbar">
    <div class="nav-left">
        <nav class="nav-menu">
            <a href="#top" class="nav-link" id="home">Home Page</a>
            <a href="#" class="nav-link disabled" id="music-store" onclick="alert('Music Store coming soon!')">Music Store</a>
            <a href="#" class="nav-link disabled" id="tour-dates" onclick="alert('Tour Dates coming soon!')">Tour Dates</a>
        </nav>
    </div>
    <div class="nav-right">
        <a href="https://linktr.ee/kytheonlyone" target="_blank" class="btn btn-secondary btn-small" id="stream">Stream</a>
        <!-- Test link removed -->
    </div>
</header>

    <!-- Latest Posts Section -->
<section class="latest-posts">
    <div class="sidebar">
        <h3 class="sidebar-title">Latest Posts</h3>
        <div class="sidebar-links">
            <a href="#" class="sidebar-link" id="new-releases" onclick="alert('New Releases coming soon!')">New Releases</a>
            <a href="#" class="sidebar-link" id="behind-scenes" onclick="alert('Behind Scenes content coming soon!')">Behind Scenes</a>
            <a href="#" class="sidebar-link" id="fan-stories" onclick="alert('Fan Stories coming soon!')">Fan Stories</a>
            <a href="#" class="sidebar-link" id="upcoming-events" onclick="alert('Upcoming Events coming soon!')">Upcoming Events</a>
        </div>
    </div>
    <div class="content">
        <div class="post-card">
            <img src="https://via.placeholder.com/160x105/333333/FFFFFF?text=Coming+Soon" alt="Latest Album" class="post-image">
            <div class="post-details">
                <div class="post-text">
                    <h4 class="post-title">Latest Album</h4>
                    <p class="post-description">Coming Soon !</p>
                </div>
                <div class="nav-right">
                    <a href="https://linktr.ee/kytheonlyone" target="_blank" class="stream-here">Stream Here</a>
                </div>
            </div>
        </div>
    </div>
</section>

    <!-- Newsletter Section -->
    <section class="newsletter">
        <div class="newsletter-content">
            <div class="newsletter-header">
                <div class="section-label">Join</div>
                <div class="section-title-container">
                    <h2 class="section-title">Stay Updated with Exclusive Music Releases</h2>
                    <p class="section-subtitle">Don't miss out on the latest tracks and exclusive content. Sign up now to be the first to know!</p>
                </div>
            </div>
            <div class="newsletter-feature">
                <h3 class="feature-title">Exclusive Access</h3>
                <p class="feature-description">Get unreleased songs and early access.</p>
            </div>
            <form id="newsletter-form" class="newsletter-form">
                <input type="email" id="newsletter-email" class="newsletter-input" placeholder="Your Email Here" required>
                <button type="submit" class="btn btn-secondary">Subscribe</button>
            </form>
        </div>
    </section>

    <!-- Contact Form Section -->
    <section class="contact">
        <div class="contact-header">
            <div class="section-label">Connect</div>
            <div class="section-title-container">
                <h2 class="section-title">Get in Touch</h2>
                <p class="section-subtitle">I'd love to hear from you!</p>
            </div>
        </div>
        
        <form id="contact-form" class="contact-form">
            <div class="form-row">
                <div class="form-group">
                    <label for="firstName">First Name</label>
                    <input type="text" id="firstName" class="form-input" required>
                </div>
                <div class="form-group">
                    <label for="lastName">Last Name</label>
                    <input type="text" id="lastName" class="form-input" required>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" class="form-input" required>
                </div>
                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" class="form-input">
                </div>
            </div>
            
            <div class="form-section">
                <label>Which best describes you?</label>
                <div class="radio-group">
                    <div class="radio-row">
                        <label class="radio-option">
                            <input type="radio" name="inquiry-type" value="artist" required>
                            <span class="radio-custom"></span>
                            <span class="radio-label">Artist Inquiry</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="inquiry-type" value="booking">
                            <span class="radio-custom"></span>
                            <span class="radio-label">Booking Request</span>
                        </label>
                    </div>
                    <div class="radio-row">
                        <label class="radio-option">
                            <input type="radio" name="inquiry-type" value="fan">
                            <span class="radio-custom"></span>
                            <span class="radio-label">Fan Message</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="inquiry-type" value="collab">
                            <span class="radio-custom"></span>
                            <span class="radio-label">Collaboration Idea</span>
                        </label>
                    </div>
                    <div class="radio-row">
                        <label class="radio-option">
                            <input type="radio" name="inquiry-type" value="inquiry">
                            <span class="radio-custom"></span>
                            <span class="radio-label">Other Inquiry</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="inquiry-type" value="other">
                            <span class="radio-custom"></span>
                            <span class="radio-label">Other</span>
                        </label>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label for="message">Message</label>
                <textarea id="message" class="form-textarea" placeholder="Type your message..." required></textarea>
            </div>
            
            <label class="checkbox-option">
                <input type="checkbox" name="terms" id="terms" required>
                <span class="checkbox-custom"></span>
                <span class="checkbox-label">I accept the 
                    <span class="policy-tooltip">
                        <a href="#" id="open-terms">Terms</a>
                        <div class="tooltip-content">
                            <h3>Terms of Service Highlights</h3>
                            <p>By using our website, you agree to these Terms of Service.</p>
                            <p>You may download materials for personal, non-commercial viewing only.</p>
                            <button class="btn btn-small btn-secondary view-full-policy" data-modal="terms-modal">View Full Terms</button>
                        </div>
                    </span>
                </span>
            </label>
            
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-columns">
                <div class="footer-column">
                    <h4 class="footer-heading">Connect With Me</h4>
                    <!-- Make sure your social links have the correct href attributes -->
<div class="social-links">
    <a href="https://www.youtube.com/@KyOfficial_03" target="_blank" rel="noopener" class="social-link">
        <span class="social-icon youtube-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21.593 7.20301C21.4791 6.78041 21.2565 6.39501 20.9474 6.08518C20.6382 5.77534 20.2533 5.55187 19.831 5.43701C18.265 5.00701 12 5.00001 12 5.00001C12 5.00001 5.736 4.99301 4.169 5.40401C3.74693 5.52415 3.36282 5.75078 3.05357 6.06214C2.74431 6.3735 2.52029 6.75913 2.403 7.18201C1.99 8.74801 1.986 11.996 1.986 11.996C1.986 11.996 1.982 15.26 2.392 16.81C2.622 17.667 3.297 18.344 4.155 18.575C5.737 19.005 11.985 19.012 11.985 19.012C11.985 19.012 18.25 19.019 19.816 18.609C20.2385 18.4943 20.6237 18.2714 20.9337 17.9622C21.2436 17.653 21.4674 17.2682 21.583 16.846C21.997 15.281 22 12.034 22 12.034C22 12.034 22.02 8.76901 21.593 7.20301ZM9.996 15.005L10.001 9.00501L15.208 12.01L9.996 15.005Z" fill="currentColor"/>
            </svg>
        </span>
        <span>YouTube</span>
    </a>
    <a href="https://www.instagram.com/kytheonlyone" target="_blank" rel="noopener" class="social-link">
        <span class="social-icon instagram-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M16 3H8C5.23858 3 3 5.23858 3 8V16C3 18.7614 5.23858 21 8 21H16C18.7614 21 21 18.7614 21 16V8C21 5.23858 18.7614 3 16 3ZM19.25 16C19.2445 17.7926 17.7926 19.2445 16 19.25H8C6.20735 19.2445 4.75549 17.7926 4.75 16V8C4.75549 6.20735 6.20735 4.75549 8 4.75H16C17.7926 4.75549 19.2445 6.20735 19.25 8V16ZM16.75 8.25C17.3023 8.25 17.75 7.80228 17.75 7.25C17.75 6.69772 17.3023 6.25 16.75 6.25C16.1977 6.25 15.75 6.69772 15.75 7.25C15.75 7.80228 16.1977 8.25 16.75 8.25ZM12 7.5C9.51472 7.5 7.5 9.51472 7.5 12C7.5 14.4853 9.51472 16.5 12 16.5C14.4853 16.5 16.5 14.4853 16.5 12C16.5027 10.8057 16.0294 9.65957 15.1849 8.81508C14.3404 7.97059 13.1943 7.49734 12 7.5ZM9.25 12C9.25 13.5188 10.4812 14.75 12 14.75C13.5188 14.75 14.75 13.5188 14.75 12C14.75 10.4812 13.5188 9.25 12 9.25C10.4812 9.25 9.25 10.4812 9.25 12Z" fill="currentColor"/>
            </svg>
        </span>
        <span>Instagram</span>
    </a>
</div>
                </div>
                <div class="footer-column">
                    <h4 class="footer-heading">Stay Updated</h4>
                    <div class="footer-links">
                        <a href="javascript:void(0);" class="footer-link" onclick="alert('Tour Dates coming soon! Stay Updated')">Tour Dates</a>
                        <a href="javascript:void(0);" class="footer-link" onclick="alert('Merch Store coming soon! Stay Updated')">Merch Store</a>
                    </div>
                </div>
                <div class="footer-newsletter">
                    <h4 class="footer-heading">Subscribe</h4>
                    <p class="footer-text">Join my newsletter for the latest updates on my music and events.</p>
                    <form class="newsletter-form">
                        <input type="email" placeholder="Your Email Here" class="newsletter-input" id="footer-email">
                        <button type="submit" class="btn btn-secondary">Join</button>
                    </form>
                    <p class="footer-disclaimer">By subscribing, you consent to our 
                            <a href="privacy-policy.html">Privacy Policy</a>
                    </p>
                </div>
            </div>
        </div>
        <!-- Replace all tooltip content divs in the footer with this structure -->
        <div class="footer-bottom">
            <div class="divider"></div>
            <div class="copyright-section">
              <p class="copyright">© 2025 Ky. Built from pain. Protected by purpose. All rights reserved.</p>
              <div class="legal-links">
                <!-- Fix the paths to be relative to the current directory -->
                <a href="privacy-policy.html" class="btn btn-secondary btn-small">Privacy Policy</a>
                <a href="terms-of-service.html" class="btn btn-secondary btn-small">Terms of Service</a>
                <a href="cookie-settings.html" class="btn btn-secondary btn-small">Cookie Settings</a>
              </div>
            </div>
        </div>
    </footer>

    <!-- Modal Overlays -->
     <!-- Terms Modal -->
<div id="terms-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="terms-modal-title" aria-describedby="terms-modal-description">
    <div class="modal-content">
        <button class="close-button" data-modal="terms-modal" aria-label="Close dialog">&times;</button>
        <h2 id="terms-modal-title">Terms of Service</h2>
        <p id="terms-modal-description">Full details about terms of service go here...</p>
    </div>
</div>

<!-- Privacy Modal -->
<div id="privacy-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="privacy-modal-title" aria-describedby="privacy-modal-description">
    <div class="modal-content">
        <button class="close-button" data-modal="privacy-modal" aria-label="Close dialog">&times;</button>
        <h2 id="privacy-modal-title">Privacy Policy</h2>
        <p id="privacy-modal-description">Details about how we handle your data go here...</p>
    </div>
</div>

<!-- Cookies Modal -->
<div id="cookies-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="cookies-modal-title" aria-describedby="cookies-modal-description">
    <div class="modal-content">
        <button class="close-button" data-modal="cookies-modal" aria-label="Close dialog">&times;</button>
        <h2 id="cookies-modal-title">Cookie Policy</h2>
        <p id="cookies-modal-description">Explanation about cookies, tracking, and user consent goes here...</p>
    </div>
</div>

    <!-- Modal definitions removed from here. They will be created by index.html's loadPolicyPage function -->
    <!-- 
        NOTE: The comment above "Modal definitions removed from here..." seems to conflict with the presence of these modals.
        If these modals are indeed defined here in desktop.html, then the logic in index.html 
        that dynamically creates modals with the same IDs might need adjustment. 
        For this review, I'm focusing on improving the structure of the modals as provided.
        If index.html is meant to be the sole creator and populator of these modals by fetching 
        separate files (e.g., privacy-policy.html), then these static definitions in desktop.html 
        should indeed be removed to avoid ID conflicts and ensure the fetched content is used.
        However, if these are intended as simple, self-contained modals within desktop.html, 
        the improvements above are applicable.
    -->

    <!-- Cookie Consent Banner -->
    <div class="cookie-banner" id="cookie-banner">
        <div class="cookie-banner-content">
            <p>This website uses cookies to ensure you get the best experience on our website. <a href="#" id="learn-more-cookies">Learn more</a></p>
            <div class="cookie-banner-buttons">
                <button class="btn btn-secondary" id="customize-cookies">Customize</button>
                <button class="btn btn-primary" id="accept-cookies">Accept All Cookies</button>
            </div>
        </div>
    </div>

    <script src="desktop.js"></script>
    <script src="../Zoho CRM/zoho-integration.js"></script>
    <script>
        // Close modals when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        }
        
        // Close modals with ESC key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                document.querySelectorAll('.modal').forEach(function(modal) {
                    modal.style.display = 'none';
                });
            }
        });
        
        // Initialize Zoho CRM integration
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Initializing Zoho CRM integration...');
            
            // Remove any existing event listeners from newsletter forms
            const newsletterForms = document.querySelectorAll('form.newsletter-form');
            newsletterForms.forEach(form => {
                const newForm = form.cloneNode(true);
                form.parentNode.replaceChild(newForm, form);
            });
            
            // Initialize Zoho CRM integration
            if (typeof initZohoCRMIntegration === 'function') {
                initZohoCRMIntegration();
                console.log('Zoho CRM integration initialized');
            } else {
                console.error('Zoho CRM integration function not found');
            }
        
        // Newsletter form in main content
        const newsletterForm = document.getElementById('newsletter-form');
        if (newsletterForm) {
            newsletterForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                const email = document.getElementById('newsletter-email').value;
                
                try {
                    const response = await fetch('../Zoho CRM/zoho-proxy.php', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            action: 'createLead',
                            leadData: {
                                Email: email,
                                Last_Name: 'Newsletter Subscriber',
                                Lead_Source: 'Website Newsletter',
                                Description: 'Subscribed to newsletter from main form'
                            }
                        })
                    });
                    
                    const result = await response.json();
                    
                    if (response.ok) {
                        alert('Thank you for subscribing!');
                        this.reset();
                    } else {
                        console.error('Zoho error:', result);
                        alert('There was an error. Please try again later.');
                    }
                } catch (error) {
                    console.error('Submission error:', error);
                    alert('Connection error. Please try again later.');
                }
            });
        }
        
        // Footer newsletter form
        const footerForm = document.querySelector('.footer-newsletter .newsletter-form');
        if (footerForm) {
            footerForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                const email = document.getElementById('footer-email').value;
                
                try {
                    const response = await fetch('../Zoho CRM/zoho-proxy.php', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            action: 'createLead',
                            leadData: {
                                Email: email,
                                Last_Name: 'Footer Subscriber',
                                Lead_Source: 'Website Footer',
                                Description: 'Subscribed to newsletter from footer form'
                            }
                        })
                    });
                    
                    const result = await response.json();
                    
                    if (response.ok) {
                        alert('Thank you for subscribing!');
                        this.reset();
                    } else {
                        console.error('Zoho error:', result);
                        alert('There was an error. Please try again later.');
                    }
                } catch (error) {
                    console.error('Submission error:', error);
                    alert('Connection error. Please try again later.');
                }
            });
        }
        
        // Contact form
        const contactForm = document.getElementById('contact-form');
        if (contactForm) {
            contactForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                // Get form values
                const firstName = document.getElementById('firstName').value;
                const lastName = document.getElementById('lastName').value;
                const email = document.getElementById('email').value;
                const phone = document.getElementById('phone').value;
                const message = document.getElementById('message').value;
                
                // Get selected inquiry type
                let inquiryType = '';
                const inquiryInputs = document.querySelectorAll('input[name="inquiry-type"]');
                for (const input of inquiryInputs) {
                    if (input.checked) {
                        inquiryType = input.value;
                        break;
                    }
                }
                
                try {
                    const response = await fetch('../Zoho CRM/zoho-proxy.php', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            action: 'createLead',
                            leadData: {
                                First_Name: firstName,
                                Last_Name: lastName,
                                Email: email,
                                Phone: phone,
                                Description: message,
                                Lead_Source: 'Website Contact Form',
                                Industry: inquiryType // Using Industry field for inquiry type
                            }
                        })
                    });
                    
                    const result = await response.json();
                    
                    if (response.ok) {
                        alert('Thank you for your message! I\'ll get back to you soon.');
                        this.reset();
                    } else {
                        console.error('Zoho error:', result);
                        alert('There was an error. Please try again later.');
                    }
                } catch (error) {
                    console.error('Submission error:', error);
                    alert('Connection error. Please try again later.');
                }
            });
        }
        
        // If you have a separate Zoho integration function, call it here
        if (typeof initZohoCRMIntegration === 'function') {
            initZohoCRMIntegration();
            console.log('Additional Zoho CRM integration initialized');
        }
        });
    </script>

    <!-- Terms of Service Modal -->
    <!-- Privacy Policy Modal -->
    <!-- Cookies Policy Modal -->
</body>
</html>

<!-- Add this test form somewhere on your page for debugging -->
<div style="margin-top: 50px; padding: 20px; border: 1px solid #ccc;">
  <h3>Test Zoho Integration</h3>
  <form id="test-zoho-form">
    <input type="email" placeholder="Test Email" value="test@example.com">
    <button type="submit">Test Zoho</button>
    <div id="test-result" style="margin-top: 10px;"></div>
  </form>
  
  <script>
    document.getElementById('test-zoho-form').addEventListener('submit', function(e) {
      e.preventDefault();
      const resultDiv = document.getElementById('test-result');
      resultDiv.textContent = 'Testing...';
      
      const email = this.querySelector('input[type="email"]').value;
      
      // Try with a simple fetch to the PHP file
      fetch('/Zoho CRM/zoho-proxy.php', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          action: 'createLead',
          leadData: {
            Email: email,
            Last_Name: 'Test User',
            Lead_Source: 'Test Form',
            Description: 'Testing Zoho integration'
          }
        })
      })
      .then(response => {
        resultDiv.textContent = 'Response status: ' + response.status;
        return response.text();
      })
      .then(text => {
        resultDiv.textContent += '\nResponse: ' + text;
        console.log('Test response:', text);
      })
      .catch(error => {
        resultDiv.textContent = 'Error: ' + error.message;
        console.error('Test error:', error);
      });
    });
  </script>
</div>
